
<!doctype html>
<html lang="pr-br" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<!-- Materialize: css -->
<link rel="stylesheet" href="/vendor/css/materialize.min.css">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900"
	rel="stylesheet">
<link rel="stylesheet" href="/css/global.css">
<link rel="stylesheet" href="/css/imoveisUsuario.css">

<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Morabem - Relatório</title>
</head>

<style>
.titulo {
	font-size: 1.5rem;
	margin: 0;
	padding: 0;
}

.table, .th, .td {
	border: 1px solid black;
	border-collapse: collapse;
}

.th, .td {
	padding: 5px;
	text-align: left;
}
.exportar-wrapper {
	display: flex;
	flex-direction: row-reverse;
}
</style>

<body class="container">
	<header class="flex row">
		<div>
			<a href="/"> <img src="/logo-horizontal.png" />
			</a>
		</div>
		<div class="flex row w-100 justify-content-end">
			<div th:replace="fragments/header :: 'com-usuario'"></div>
		</div>
	</header>
	<main>

	<div class="row">
		<div class="col s12">
			<ul class="tabs">
				<li class="tab col s3"><a href="#vendas">Vendas</a></li>
				<li class="tab col s3"><a class="active" href="#alugueis">Alugueis</a></li>
			</ul>
		</div>
		<div id="vendas" class="col s12">
			<h3>Relatório: Vendas</h3>
			<h4 th:text="${'Anunciante: ' + session.usuarioLogado.getNome()}"></h4>
			<div class="exportar-wrapper">
				<a class="btn-flat dropdown-trigger align-center"
					data-target="venda-export"> exportar </a>

				<ul id="venda-export" class="dropdown-content">
					<li
						th:each="formato : ${T(morabem.domain.relatorio.ExportarStrategy.Formato).values()}">
						<a th:href="${'/relatorios/exportar?tipo=VENDER&formato='+formato}" th:text="${formato}"></a>
					</li>
				</ul>
			</div>
			
			<table>
				<thead>
					<tr>
						<th>Anuncio</th>
						<th>Preço</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item : ${relatorioDeVendas.getAnuncios()}">
						<td><a th:href="'/anuncio/' + ${item.getId()}">
								<p class="no-padding no-margin" th:text="${item.getTitulo()}"></p>
						</a>
							<p class="no-padding no-margin"
								th:text="${item.getDescricaoResumida()}"></p></td>
						<td>
							<p class="no-padding no-margin font-black"
								th:text="${#numbers.formatCurrency(item.getValor())}"></p>

						</td>
					</tr>
					<tr>
						<td>
							<p class="bolder">Total</p>
						</td>
						<td>
							<p class="bolder"
								th:text="${#numbers.formatCurrency(relatorioDeVendas.getTotal())}"></p>
						</td>
					</tr>

				</tbody>
			</table>
		</div>
		<div id="alugueis" class="col s12">
			<h3>Relatório: Aluguel</h3>
			<h4 th:text="${'Anunciante: ' + session.usuarioLogado.getNome()}"></h4>
			<div class="exportar-wrapper">
				<a class="btn-flat dropdown-trigger align-center"
					data-target="aluguel-export"> exportar </a>

				<ul id="aluguel-export" class="dropdown-content">
					<li
						th:each="formato : ${T(morabem.domain.relatorio.ExportarStrategy.Formato).values()}">
						<a th:href="${'/relatorios/exportar?tipo=ALUGAR&formato='+formato}" th:text="${formato}"></a>
					</li>
				</ul>
			</div>
			
			<table>
				<thead>
					<tr>
						<th>Anuncio</th>
						<th>Preço</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item : ${relatorioDeAlugueis.getAnuncios()}">
						<td><a th:href="'/anuncio/' + ${item.getId()}">
								<p class="no-padding no-margin" th:text="${item.getTitulo()}"></p>
						</a>
							<p class="no-padding no-margin"
								th:text="${item.getDescricaoResumida()}"></p></td>
						<td>
							<p class="no-padding no-margin font-black"
								th:text="${#numbers.formatCurrency(item.getValor())}"></p>
						</td>
					</tr>
					<tr>
						<td>
							<p class="bolder">Total</p>
						</td>
						<td>
							<p class="bolder"
								th:text="${#numbers.formatCurrency(relatorioDeAlugueis.getTotal())}"></p>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	</main>

	<script src="/vendor/js/jquery.mim.js"></script>
	<script src="/vendor/js/hammer.js"></script>
	<script src="/vendor/js/materialize.js"></script>
	<script>
		$('.dropdown-trigger').dropdown();

		$(document).ready(function() {
			$('.tooltipped').tooltip();
		});
		$(document).ready(function() {
			$('.tabs').tabs();
		});
	</script>

</body>
</html>

